on: [push]

jobs:
  rubocop:
    runs-on: ubuntu-latest
    name: A job to check rubocop linter errors
    steps:
    - uses: actions/checkout@v2
    - name: Install gems # usual step to install the gems.
      run: |
        gem install rubocop
    - name: Linter count
      id: hello
      uses: henrixapp/linter-less-or-equal-action@v1
      with:
        name: Rubocop
        command:  rubocop
        total_regexp: \d+ offenses detected
        errors_regexp: \d+ offenses detected
        warnings_regexp: \d+ offenses detected
        compare_branch: mampf-next
  eslint:
    runs-on: ubuntu-latest
    name: A job to check eslint linter errors
    steps:
    - uses: actions/checkout@v2
    - name: Linter count
      id: hello
      uses: henrixapp/linter-less-or-equal-action@v1
      with:
        name: EsLint
        command: npx eslint  . 
        total_regexp: \d+ problems
        errors_regexp: \d+ errors
        warnings_regexp: \d+ warnings
        compare_branch: mampf-next
  coffee:
    runs-on: ubuntu-latest
    name: A job to check coffee linter errors
    steps:
    - uses: actions/checkout@v2
    - name: Linter count
      id: hello
      uses: henrixapp/linter-less-or-equal-action@v1
      with:
        name: Coffee
        command: npx coffeelint  . 
        total_regexp: \d+ errors
        errors_regexp: \d+ errors
        warnings_regexp: \d+ warnings
        compare_branch: mampf-next
  erblint:
    runs-on: ubuntu-latest
    name: A job to check erblint linter errors
    steps:
    - uses: actions/checkout@v2
    - name: Install gems # usual step to install the gems.
      run: |
        gem install erblint
    - name: Linter count
      id: hello
      uses: henrixapp/linter-less-or-equal-action@v1
      with:
        name: Erblint
        command:  bin/bundle exec erblint  . 
        total_regexp: \d+ error(s)
        errors_regexp: \d+ error(s)
        warnings_regexp: \d+ error(s)
        compare_branch: mampf-next
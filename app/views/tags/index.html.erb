<div class="row mt-3 p-2">
  <div class="col-10">
    <h4>
      <%= t('admin.tag.index') %>
    </h4>
  </div>
  <div class="col-2">
    <%= link_to t('admin.tag.create'),
                new_tag_path,
                class: 'btn btn-sm btn-secondary',
                id: 'create-new-tag' %>
  </div>
</div>
<form>
  <div class="form-row mb-3 p-2">
    <div class="form-group col-3 mx-3">
      <label for="inputTag">
        <%= t('basics.title') %>
      </label>
      <%= helpdesk(t('admin.tag.info.search_title'), false) %>
      <input type="text"
             id="inputTag"
             class="form-control"
             placeholder="<%= t('basics.search') %>">
    </div>
    <div class="form-group col-6">
      <label for="inputCourses">
        <%= t('basics.courses') %>
      </label>
      <%= helpdesk(t('admin.tag.info.search_course'), true) %>
      <select multiple id="inputCourses" class="selectize"
              placeholder="<%= t('basics.select') %>">
        <%= Course.all.each do |c| %>
          <option selected value="<%= c.id %>">
            <%= c.short_title %>
          </option>
        <% end %>
      </select>
      <button id="tags-edited-courses"
              type="button"
              class="btn btn-sm btn-outline-info"
              data-courses="<%= current_user.edited_courses.map(&:id)
                                            .to_json %>">
        <%= t('buttons.edited_courses') %>
      </button>
      <button id="tags-all-courses"
              type="button"
              class="btn btn-sm btn-outline-info"
              data-courses="<%= Course.all.map(&:id).to_json %>">
        <%= t('buttons.all_courses') %>
      </button>
      <button id="tags-no-courses"
              type="button"
              class="btn btn-sm btn-outline-info">
        <%= t('buttons.clean_courses_form') %>
      </button>
    </div>
  </div>
</form>
<div class="row bg-mdb-color-lighten-2 mx-2 px-4 py-3">
  <div class="col-3 text-light">
    <strong>
      <%= t('basics.title') %>
    </strong>
  </div>
  <div class="col-2 text-light">
    <strong>
      <%= t('basics.courses') %>
    </strong>
  </div>
  <div class="col-6 text-light">
    <strong>
      <%= t('admin.tag.related_tags') %>
    </strong>
  </div>
  <div class="col-1 text-light">
    <strong>
      <%= t('basics.actions') %>
    </strong>
  </div>
</div>
<div id="tagTable" data-tags="<%= @tags_with_id %>">
  <% @tags.natural_sort_by(&:title).each do |t| %>
    <% cache t do %>
      <div class="row border-bottom mx-2 px-4"
           id="row-tag-<%= t.id %>"
           data-courses="<%= t.courses.map(&:id).to_json %>">
        <%= render partial: 'tags/row', locals: { tag: t }%>
      </div>
    <% end %>
  <% end %>
</div>

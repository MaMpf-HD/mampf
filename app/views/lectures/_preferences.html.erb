<div id="preferences_accordion" role="tablist">
  <div class="card bg-light">
    <div class="card-header" role="tab" id="preferences_heading">
      <div class="row">
        <div class="col-6">
          <h5>
            Einstellungen
          </h5>
        </div>
        <div class="col-6 text-right">
          <a class="btn btn-primary"
             data-toggle="collapse" href="#preferences_collapse"
             id="preferences_collapse_button"
             aria-expanded="false" aria-controls="preferences_collapse">
            Ein-/Ausklappen
          </a>
        </div>
      </div>
    </div>
    <div id="preferences_collapse" class="collapse" role="tabpanel"
         aria-labelledby="heading"
         data-parent="#preferences_accordion">
      <div class="card-body">
        <%= form_with model: @lecture,
                      html: { id: 'lecture-preferences-form' } do |f| %>
          <div class="form-row">
            <div class="col-4 form-group">
              <%= f.label :start_chapter, 'Nummer des ersten Kapitels' %>
              <%= f.number_field :start_chapter,
                                 value: @lecture.start_chapter || 1,
                                 class: 'form-control',
                                 disabled: inspection  %>
            </div>
            <div class="col-4 mt-6">
              <div id="start-section-input">
                <%= f.label :start_section, 'Startabschnitt' %>
                <%= f.number_field :start_section,
                                   value: @lecture.start_section || 1,
                                   class: 'form-control',
                                   disabled: inspection || !@lecture.absolute_numbering %>
              </div>
            </div>
            <div class="col-4 mt-6">
              <div class="custom-control custom-checkbox">
                <%= f.check_box :absolute_numbering,
                                class: 'custom-control-input',
                                disabled: inspection %>
                <%= f.label :absolute_numbering, 'absolute Nummerierung',
                            { class: 'custom-control-label' } %>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-12 text-center">
              <div id="lecture-preferences-warning">
                Achtung, es gibt ungespeicherte Änderungen!
                <%= f.submit "Speichern und zurück", class: "btn btn-primary" %>
                <button type="button" id="cancel-lecture-preferences"
                        class="btn btn-secondary">
                  abbrechen
               </button>
             </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

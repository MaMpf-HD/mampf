<%= javascript_include_tag :news_popups %>
<%= stylesheet_link_tag :news_popups %>

<div class="container" id="admin-news">

  <%# News popups %>
  <div class="row p-3">
    <h4>News Popups</h4>

    <div class="list-group">
      <div class="list-group-item bg-light" id="news-popups-list-header">
        <div class="row">
          <div class="col-2">
            <%= t('basics.created_at') %>
          </div>
          <div class="col-2">
            <%= t('basics.updated_at') %>
          </div>
          <div class="col-5">
            <%= t('basics.name') %>
          </div>
          <div class="col-2">
            <%= t('basics.active') %>
          </div>
          <div class="col-1">
            <%= t('basics.action') %>
          </div>
        </div>
      </div>
      <% @news_popups.each do |news_popup| %>
        <%= render partial: 'news_popups/row',
                    locals: { popup: news_popup} %>
      <% end %>
    </div>
  </div>

  <%# News %>
  <div class="row mt-3 p-2">
    <div class="col-7">
      <h4>
        <%= t('basics.news') %>
      </h4>
    </div>
    <div class="col-3">
      <%= paginate @announcements, window: 2 %>
    </div>
    <div class="col-2 text-end">
      <%= link_to t('buttons.create_announcement'),
                  new_announcement_path,
                  class: 'btn btn-sm btn-secondary',
                  remote: true %>
    </div>
  </div>
  <div class="row bg-mdb-color-lighten-2 mx-2 px-4 py-3">
    <div class="col-2 text-light">
      <strong>
        <%= t('basics.date') %>
      </strong>
    </div>
    <div class="col-2 text-light">
      <strong>
        <%= t('basics.author') %>
      </strong>
    </div>
    <div class="col-5 text-light">
      <strong>
        <%= t('basics.text') %>
      </strong>
    </div>
    <div class="col-1 text-light">
      <strong>
        <%= t('admin.announcement.main_page') %>
      </strong>
    </div>
    <div class="col-2 text-light">
      <strong>
        <%= t('basics.action') %>
      </strong>
    </div>
  </div>
  <div id="row-new-announcement"
      class="border-bottom mx-2 py-2"
      style="display: none;">
  </div>
  <% @announcements.each do |a| %>
    <div class="row border-bottom mx-2 px-4 py-2 bg-white"
        id="row-announcement-<%= a.id %>">
      <%= render partial: 'announcements/row',
                locals: { announcement: a } %>
    </div>
  <% end %>
  <%= render partial: 'announcements/modal' %>
</div>

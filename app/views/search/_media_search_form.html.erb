<%= render(SearchForm::SearchForm.new(url: media_search_path, context: "media")) do |c| %>
  <% c.with_field(SearchForm::Filters::MediumTypeFilter.new(current_user: current_user,purpose: purpose)) %>

  <% c.with_field(SearchForm::Filters::TeachableFilter.new.with_inheritance_radios) %>

  <% c.with_field(SearchForm::Filters::TagFilter.new.with_operator_radios) %>

  <% c.with_field(SearchForm::Filters::EditorFilter.new) %>

  <% c.with_field(SearchForm::Filters::MediumAccessFilter.new) %>

  <% unless purpose == 'import' %>
    <% c.with_field(SearchForm::Filters::AnswerCountFilter.new(purpose: purpose)) %>
  <% end %>

  <% c.with_field(SearchForm::Filters::FulltextFilter.new) %>

  <% c.with_field(SearchForm::Filters::PerPageFilter.new(
       per_options: hits_per_page(true),
       default: default_hits_per_page(true)
     )) %>

  <% c.with_hidden_field(SearchForm::Fields::HiddenField.new(name: :purpose, value: purpose)) %>
  <% c.with_hidden_field(SearchForm::Fields::HiddenField.new(name: :results_as_list, value: 'true')) %>
<% end %>
<%= turbo_frame_tag "talk_user" do %>
  <div class="d-flex justify-content-between align-items-center mb-2">

    <!-- speakers -->
    <div class="d-flex align-items-center">
      <strong class="me-2"><%= t('admin.talk.speakers') %>:</strong>
      <%= speaker_list(talk) %>
    </div>

    <!-- action buttons -->
    <div class="d-flex align-items-center gap-2">

      <% if talk.allow_self_add?(current_user) %>
        <%= link_to self_add_talk_path(
          talk,
          type: "Talk",
          partial: "talks/talker",
          variable: "talk",
          turbo_frame: "talk_user"
        ),
        data: { turbo_method: :post },
        class: "btn btn-sm btn-primary d-flex align-items-center justify-content-center p-1" do %>
          <i class="material-icons align-middle"
             style="font-size: 18px; line-height: 1;"
             data-bs-toggle="tooltip"
             data-bs-placement="bottom"
             title="<%= t('buttons.self_register_talk') %>">
            person_add
          </i>
        <% end %>
      <% else %>
        <button class="btn btn-sm btn-secondary d-flex align-items-center justify-content-center p-1" disabled>
          <i class="material-icons align-middle"
             style="font-size: 18px; line-height: 1;"
             data-bs-toggle="tooltip"
             data-bs-placement="bottom"
             title="<%= t('buttons.self_register_talk') %>">
            person_add
          </i>
        </button>
      <% end %>

      <% if talk.allow_self_remove?(current_user) %>
        <%= link_to self_remove_talk_path(
          talk,
          type: "Talk",
          partial: "talks/talker",
          variable: "talk",
          turbo_frame: "talk_user"
        ),
        data: { turbo_method: :delete },
        class: "btn btn-sm btn-outline-danger d-flex align-items-center justify-content-center p-1" do %>
          <i class="material-icons align-middle"
             style="font-size: 18px; line-height: 1;"
             data-bs-toggle="tooltip"
             data-bs-placement="bottom"
             title="<%= t('buttons.self_remove_talk') %>">
            person_remove
          </i>
        <% end %>
      <% else %>
        <button class="btn btn-sm btn-secondary d-flex align-items-center justify-content-center p-1" disabled>
          <i class="material-icons align-middle"
             style="font-size: 18px; line-height: 1;"
             data-bs-toggle="tooltip"
             data-bs-placement="bottom"
             title="<%= t('buttons.self_remove_talk') %>">
            person_remove
          </i>
        </button>
      <% end %>

    </div>
  </div>
<% end %>

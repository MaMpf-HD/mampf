<div class="modal fade"
     id="publishMediumModal"
     tabindex="-1"
     role="dialog"
     aria-labelledby="publishMediumModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg"
       role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"
            id="publishMediumModalLabel">
          <%= t('admin.medium.publish') %>
        </h5>
        <button type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close">
          <span aria-hidden="true">
            &times;
          </span>
        </button>
      </div>
      <div class="modal-body">
        <%= form_with model: Medium.new(released:
                                          medium.publisher&.release_for ||
                                            'all'),
                      url: publish_medium_path(medium),
                      method: 'post' do |f| %>
          <%= t('admin.medium.release_date') %>
          <div class="custom-control custom-radio">
            <%= f.radio_button :release_now,
                               '1',
                               class: 'custom-control-input',
                               checked: !medium.release_date_set? %>
            <%= f.label :release_now,
                        t('basics.immediately'),
                        value: '1',
                        class: 'custom-control-label' %>
          </div>
          <div class="custom-control custom-radio mb-3">
            <%= f.radio_button :release_now,
                               '0',
                               class: 'custom-control-input',
                               checked: medium.release_date_set? %>
            <%= f.label :release_now,
                        t('basics.at_time'),
                        value: '0',
                        class: 'custom-control-label' %>
            <%= helpdesk(t('admin.medium.info.scheduled_release'), true) %>
          </div>
          <div class="form-group col-12">
            <%= f.text_field :release_date,
                             class: 'form-control',
                             id: "release_date",
                             value: medium.planned_release_date %>
            <div class="invalid-feedback"
                 id="release-date-error">
            </div>
          </div>
          <%= render partial: 'media/access_rights',
                     locals: { f: f,
                               medium: medium } %>
          <% if medium.sort == 'Quiz' %>
            <%= render partial: 'media/quiz_rights',
                       locals: { f: f } %>
          <% end %>
          <div class="custom-control custom-checkbox">
            <%= f.check_box :lock_comments,
                            class: 'custom-control-input',
                            checked: medium.planned_comment_lock? %>
            <%= f.label :lock_comments,
                        t('admin.medium.lock_comments'),
                        { class: 'custom-control-label' } %>
          </div>
          <div class="custom-control custom-checkbox">
            <%= f.check_box :disclaimer,
                            class: 'custom-control-input',
                            required: true,
                            checked: medium.publisher.present? %>
            <%= f.label :disclaimer,
                        t('admin.medium.disclaimer'),
                        { class: 'custom-control-label' } %>
          </div>
          <div class="row mt-3">
            <div class="col-12 text-center">
              <%= f.submit t('buttons.publish'),
                           class: 'btn btn-sm btn-primary' %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
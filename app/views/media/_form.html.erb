<%= form_with model: medium,
              html: { id: 'medium-form',
                      enctype: 'multipart/form-data' } do |f| %>
  <%= render partial: 'media/header',
             locals: { medium: medium,
                       new_medium: new_medium,
                       f: f } %>
  <div class="row mt-3 p-2">
  <% if !medium.sort.in?(['Script', 'KeksQuiz', 'KeksQuestion', 'KeksRemark']) %>
    <div class="col-4">
      <%= render partial: 'media/basics',
                 locals: { medium: medium,
                           compact: false,
                           f: f } %>
    </div>
    <div class="col-4">
      <%= render partial: 'media/video',
                 locals: { medium: medium,
                           f: f } %>
    </div>
    <div class="col-4">
      <%= render partial: 'media/manuscript',
                 locals: { medium: medium,
                           f: f } %>
    </div>
  <% elsif medium.sort == 'Script' %>
    <div class="col-4">
      <%= render partial: 'media/basics',
                 locals: { medium: medium,
                           compact: false,
                           f: f } %>
    </div>
    <div class="col-4">
      <%= render partial: 'media/video',
                 locals: { medium: medium,
                           f: f } %>
    </div>
    <div class="col-4">
      <%= render partial: 'media/manuscript',
                 locals: { medium: medium,
                           f: f } %>
    </div>
  <% elsif medium.sort == 'KeksQuiz' %>
    <div class="col-4">
      <%= render partial: 'media/basics',
                 locals: { medium: medium,
                           compact: false,
                           f: f } %>
    </div>
    <div class="col-8 mb-3">
        <%= render partial: 'media/quiz',
                 locals: { medium: medium,
                           f: f } %>
    </div>
  <% elsif medium.sort == 'KeksQuestion' %>
    <div class="col-6">
      <div class="row">
        <div class="col-6">
          <%= render partial: 'media/basics',
                     locals: { medium: medium,
                               compact: true,
                               f: f } %>
        </div>
        <div class="col-6">
          <%= render partial: 'questions/details',
                     locals: { question: medium.becomes(Question),
                               f: f } %>
        </div>
        <div class="col-6">
          <%= render partial: 'media/video',
                     locals: { medium: medium,
                             f: f } %>
        </div>
        <div class="col-6">
          <%= render partial: 'media/manuscript',
                     locals: { medium: medium,
                               f: f } %>
        </div>
      </div>
    </div>
    <div class="col-6">
      <%= render partial: 'questions/answer_details',
                 locals: { question: medium.becomes(Question),
                           f: f } %>
    </div>
  <% elsif medium.sort == 'KeksRemark' %>
    <div class="col-4">
      <div class="row">
        <div class="col-12 mb-3">
          <%= render partial: 'media/basics',
                     locals: { medium: medium,
                               f: f,
                               compact: true } %>
        </div>
        <div class="col-12 mb-3">
          <%= render partial: 'media/video',
                     locals: { medium: medium,
                               f: f } %>
        </div>
        <div class="col-12">
          <%= render partial: 'media/manuscript',
                     locals: { medium: medium,
                               f: f } %>
        </div>
      </div>
    </div>
    <div class="col-8 mb-3">
      <%= render partial: 'remarks/details',
                 locals: { remark: medium.becomes(Remark),
                           f: f } %>
    </div>
  <% end %>
  </div>
<% end %>

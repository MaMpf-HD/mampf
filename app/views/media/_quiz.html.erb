<div class="card bg-light">
  <div class="card-header">
    <div class="row">
      <div class="col-8">
        <%= t('admin.quiz.graph') %>
        <%= helpdesk(t('admin.quiz.info.graph'), false) %>
      </div>
      <div class="col-4 text-right">
        <% if quiz.quiz_graph %>
          <%= link_to t('buttons.edit'),
                      edit_quiz_path(quiz),
                      class: 'btn btn-sm btn-secondary' %>
          <%= link_to t('buttons.take_quiz'),
                      take_quiz_path(quiz),
                      class: 'btn btn-sm btn-secondary',
                      target: :_blank %>
          <%= link_to t('buttons.delete'),
                      quiz_path(quiz),
                      class: 'btn btn-sm btn-danger',
                      data: { method: 'delete',
                              confirm: t('confirmation.delete_graph') } %>
        <% end %>
      </div>
    </div>
  </div>
  <div class="card-body">
    <% if quiz.quiz_graph %>
       <div id="cy"
           data-elements="<%= quiz.quiz_graph.to_cytoscape.to_json %>"
           data-type="quiz"
           data-linear="<%= quiz.quiz_graph.linear? %>"
           data-mode="view">
      </div>
    <% else %>
      <div class="custom-control custom-checkbox">
        <%= f.check_box :create_quiz_graph,
                        checked: quiz.new_record?,
                        class: 'custom-control-input' %>
        <%= f.label :create_quiz_graph,
                    t('admin.quiz.create_graph'),
                    class: 'custom-control-label' %>
    <% end %>
  </div>
</div>
<%= bootstrap_form_with url: profile_update_path, scope: 'user',
                        html: { id: 'profileForm'} do |f| %>
  <div class="alert alert-secondary" id="profileChange">
    <div class="profileChangeWarning" style="display: flex; justify-content: space-between;">
      <div>
        <%= t('profile.changes_made') %>
      </div>
      <div>
        <%= f.submit t('profile.update'),
                     class: 'btn btn-info' %>
      </div>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-4 col-lg-2">
              <h5>
                <%= t('profile.account') %>
              </h5>
            </div>
            <div class="col-8 col-lg-10 text-end">
              <%= render partial: 'profile/account' %>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="mb-3">
            <%= f.label :name,
                        t('profile.name'),
                        class: "form-label" %>
            <%= helpdesk(t('profile.name_information'), true) %>
            <%= f.text_field_without_bootstrap :name,
                                               class: 'form-control' %>
            <div class="invalid-feedback"
                 id="username-error">
            </div>
          </div>
          <div class="mb-3">
            <%= f.label :name_in_tutorials,
                        t('profile.name_in_tutorials'),
                        class: "form-label" %>
            <%= helpdesk(t('profile.name_in_tutorials_information'), true) %>
            <%= f.text_field_without_bootstrap :name_in_tutorials,
                                               class: 'form-control' %>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-12">
      <div class="card bg-light" id="accordion">
        <div class="card-header">
          <div class="row">
            <div class="col-12">
              <h5>
                <%= t('profile.courses') %>
              </h5>
            </div>
          </div>
        </div>
        <div class="card-body">
          <%= render partial: 'profile/subscriptions',
                     locals: { f: f } %>
        </div>
      </div>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-12">
      <div class="card bg-light">
        <div class="card-header">
          <div class="row">
            <div class="col-12">
              <h5>
                <%= t('profile.preferences') %>
              </h5>
            </div>
          </div>
        </div>
        <div class="card-body">
          <%= render partial: 'profile/subscription_type',
                     locals: { f: f } %>
        </div>
      </div>
    </div>
  </div>
  <div class="row mb-3">
    <div class="col-12">
      <div class="card bg-light">
        <div class="card-header">
          <div class="row">
            <div class="col-12">
              <h5>
                <%= t('profile.email_notifications_header') %>
              </h5>
            </div>
          </div>
        </div>
        <div class="card-body">
          <%= render partial: 'profile/email_notifications',
                     locals: { f: f } %>
        </div>
      </div>
    </div>
  </div>
<% end %>
<div class="row mb-3">
  <div class="col-12">
    <div class="card bg-light">
      <div class="card-header">
        <div class="row">
          <div class="col-12">
            <h5>
              <%= t('profile.redeem_voucher') %>
            </h5>
          </div>
        </div>
      </div>
      <div class="card-body">
        <%= render partial: 'profile/redeem_voucher' %>
      </div>
    </div>
  </div>
</div>

<div class="row mb-3">
    <div class="col-12">
      <div class="card bg-light">
        <div class="card-header">
          <div class="row">
            <div class="col-12">
              <h5>
                <%= t('profile.my_data') %>
              </h5>
            </div>
          </div>
        </div>
        <div class="card-body">
          <%= render partial: 'profile/data' %>
        </div>
      </div>
    </div>
  </div>


<%= render partial: 'shared/generic_modal',
           locals: { sort: 'deleteAccount',
                     title: t('profile.delete_account') } %>

<div>
  <%= link_to :root, class: "btn btn-sm btn-primary" do %>
    <span class="bi bi-arrow-left">
    <%= t('back_to_home') %>
  <% end %>
</div>
<div class="list-group-item <%= 'bg-light' if legacy %>">
  <div class="row align-items-center">
    <div class="col-md-5">
      <div class="d-flex align-items-center">
        <% unless legacy %>
          <%= link_to title, show_path, class: "fw-bold text-decoration-none" %>
        <% else %>
          <span class="text-muted"><%= title %></span>
        <% end %>
        <span class="badge <%= badge_class %> ms-2"><%= badge_text %></span>
      </div>
      <div class="small text-muted">
        <%= assessable_type %>
        <% if assessable.is_a?(Talk) %>
          Â· <%= I18n.t('assessment.position') %> <%= assessable.position %>
        <% end %>
      </div>
    </div>

    <% unless legacy %>
      <div class="col-md-2 text-center">
        <div class="small text-muted"><%= I18n.t('assessment.tasks') %></div>
        <div class="fw-bold"><%= tasks_count %></div>
      </div>

      <div class="col-md-2 text-center">
        <div class="small text-muted"><%= I18n.t('assessment.participants') %></div>
        <div class="fw-bold"><%= participations_count %></div>
      </div>

      <div class="col-md-3">
        <% if visible_from %>
          <div class="small">
            <i class="bi bi-eye me-1"></i>
            <%= I18n.t('assessment.visible_from') %>: <%= visible_from %>
          </div>
        <% end %>
        <% if due_at %>
          <div class="small">
            <i class="bi bi-calendar-event me-1"></i>
            <%= I18n.t('assessment.due_at') %>: <%= due_at %>
          </div>
        <% end %>
      </div>
    <% else %>
      <div class="col-md-5 text-end">
        <span class="small text-muted">
          <%= I18n.t('assessment.legacy_description') %>
        </span>
      </div>
      <div class="col-md-2 text-end d-flex gap-2 justify-content-end">
        <% if edit_path.present? %>
          <%= link_to t("basics.edit"), edit_path, class: "btn btn-sm btn-outline-primary" %>
        <% end %>
        <% if delete_path.present? %>
          <%= button_to t("basics.delete"), delete_path, method: :delete,
              data: { turbo_confirm: t("basics.confirm_delete") },
              class: "btn btn-sm btn-outline-danger" %>
        <% end %>
      </div>
    <% end %>
  </div>
</div>

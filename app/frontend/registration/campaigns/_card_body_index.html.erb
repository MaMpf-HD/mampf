  <% if lecture.registration_campaigns.any? %>
    <div class="mb-3 text-end">
      <button class="btn btn-sm btn-outline-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#registrationPatterns" aria-expanded="false" aria-controls="registrationPatterns">
        <%= t("registration.campaign.patterns.title") %>
      </button>
    </div>
    <div class="collapse mb-3" id="registrationPatterns">
      <%= render "registration/campaigns/patterns_info" %>
    </div>

    <table class="table table-hover">
      <thead>
        <tr>
          <th><%= t("registration.campaign.index.columns.type") %></th>
          <th><%= t("registration.campaign.index.columns.description") %></th>
          <th><%= t("registration.campaign.index.columns.mode") %></th>
          <th><%= t("registration.campaign.index.columns.registrations") %></th>
          <th><%= t("registration.campaign.index.columns.deadline") %></th>
          <th><%= t("basics.status") %></th>
        </tr>
      </thead>
      <tbody>
        <% lecture.registration_campaigns.order(created_at: :desc).each do |campaign| %>
          <tr data-controller="row-click" data-action="click->row-click#visit" style="cursor: pointer;">
            <td><%= campaign_item_type_label(campaign) %></td>
            <td>
              <%= link_to registration_campaign_path(campaign),
                          class: "text-decoration-none text-reset",
                          data: { turbo_stream: true, row_link: true } do %>
                <% if campaign.description.present? %>
                  <%= campaign.description %>
                <% else %>
                  <span class="text-muted">&mdash;</span>
                <% end %>
              <% end %>
            </td>
            <td><%= t("registration.campaign.allocation_mode.#{campaign.allocation_mode}") %></td>
            <td>
              <% if campaign.draft? %>
                <span class="text-muted">&mdash;</span>
              <% else %>
                <%= campaign.total_registrations_count %>
              <% end %>
            </td>
            <td><%= l(campaign.registration_deadline, format: :short) if campaign.registration_deadline %></td>
            <td>
              <span class="badge bg-<%= campaign_badge_color(campaign) %>">
                <%= t("registration.campaign.status.#{campaign.status}") %>
              </span>
              <% if campaign.planning_only? %>
                <span class="badge bg-info text-dark ms-1">
                  <%= t("registration.campaign.planning_only") %>
                </span>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <%= render "registration/campaigns/patterns_info" %>
    <div class="alert alert-secondary text-center mt-3">
      <%= t("registration.campaign.index.none") %>
    </div>
  <% end %>

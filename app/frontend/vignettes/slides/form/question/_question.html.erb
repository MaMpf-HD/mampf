<%= form.fields_for :question, data: { controller: "vignettes-question" } do |f| %>

  <!-- Question Type Selection -->
  <div class="form-floating">
    <%= f.select :type,
      options_for_select([
          [t('vignettes.question_types.none'), ''],
          [t('vignettes.question_types.text_area'), 'Vignettes::TextQuestion'],
          [t('vignettes.question_types.number_field'), 'Vignettes::NumberQuestion'],
          [t('vignettes.question_types.multiple_choice'), 'Vignettes::MultipleChoiceQuestion'],
          [t('vignettes.question_types.likert_scale'), 'Vignettes::LikertScaleQuestion']
      ], f.object.type),
      {},
      {
          class: "form-select",
          id: "vignettes-question-type-select",
          "aria-label": "Selection for question type",
          disabled: !form.object.questionnaire.editable,
      } %>
    <%= f.label :type, t('vignettes.question_type') %>
  </div>

  <%= render partial: "vignettes/slides/form/question/types/text",
             locals: { f: f } %>
  <%= render partial: "vignettes/slides/form/question/types/multiple_choice",
             locals: { f: f, form: form } %>
  <%= render partial: "vignettes/slides/form/question/types/number",
             locals: { f: f, form: form } %>
  <%= render partial: "vignettes/slides/form/question/types/likert",
             locals: { f: f, form: form } %>
<% end %>

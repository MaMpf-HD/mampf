<%= form_with model: lecture,
              url: lecture_path(lecture),
              html: {
                id: 'lecture-assignments-form',
                class: 'mt-3',
                data: {
                  controller: 'assessments--submission-settings',
                  action: 'turbo:submit-end->assessments--submission-settings#resetAfterSave'
                }
              } do |f| %>
  <div class="row">
    <div class="col-md-6">
      <%= f.label :submission_max_team_size,
                  t('admin.lecture.submission_max_team_size'),
                  class: "form-label" %>
      <%= helpdesk t('admin.lecture.info.submission_max_team_size'), false %>
      <%= f.number_field :submission_max_team_size,
                          min: 1,
                          max: 10000,
                          class: 'form-control',
                          value: lecture.submission_max_team_size,
                          data: {
                            assessments__submission_settings_target: 'maxTeamSize',
                            action: 'input->assessments--submission-settings#checkForChanges'
                          } %>
    </div>
    <div class="col-md-6">
      <%= f.label :submission_grace_period,
                  t('admin.lecture.submission_grace_period'),
                  class: "form-label" %>
      <%= helpdesk t('admin.lecture.info.submission_grace_period'), false %>
      <%= f.number_field :submission_grace_period,
                          min: 0,
                          max: 262800,
                          class: 'form-control',
                          value: lecture.submission_grace_period,
                          data: {
                            assessments__submission_settings_target: 'gracePeriod',
                            action: 'input->assessments--submission-settings#checkForChanges'
                          } %>
    </div>
  </div>

  <div class="mt-3 text-center d-none"
       data-assessments--submission-settings-target="warning">
    <div class="alert alert-warning d-inline-block mb-2" role="alert">
      <i class="bi bi-exclamation-triangle me-2"></i>
      <%= t('warnings.unsaved_changes') %>
    </div>
  </div>

  <div class="mt-3 text-center d-none"
       data-assessments--submission-settings-target="submitButton">
    <%= hidden_field_tag :subpage, "assessments" %>
    <%= f.submit t('buttons.save'), class: "btn btn-sm btn-primary me-2" %>
    <button type="button"
            class="btn btn-sm btn-secondary"
            data-action="click->assessments--submission-settings#cancel">
      <%= t('buttons.cancel') %>
    </button>
  </div>
<% end %>
